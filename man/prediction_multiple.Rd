% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/main.R
\name{prediction_multiple}
\alias{prediction_multiple}
\title{Predict m6A status and probability for multiple candidate sites}
\usage{
prediction_multiple(ml_fit, feature_df, positive_threshold = 0.5)
}
\arguments{
\item{ml_fit}{A fitted randomForest model object (with the positive class labeled "Positive").}

\item{feature_df}{A data frame containing at least the following columns:
  gc_content, RNA_type, RNA_region, exon_length,
  distance_to_junction, evolutionary_conservation, and DNA_5mer.

  Optionally, may include pre-encoded nt_pos1–nt_pos5 factor columns.}

\item{positive_threshold}{Numeric. The probability threshold above which
predictions are labeled "Positive". Default = 0.5.}
}
\value{
A data frame identical to feature_df but with two additional columns:
  - predicted_m6A_prob: numeric probability of "Positive" prediction
  - predicted_m6A_status: predicted class label ("Positive" or "Negative")
}
\description{
Uses a trained randomForest classification model to predict the m6A probability
and class label for multiple candidate sites provided in feature_df.
If the table does not already contain nt_pos1–nt_pos5, these columns are
automatically generated using [dna_encoding()] from the DNA_5mer column.
}
\details{
The function:
1. Validates required feature columns
2. Converts categorical features into fixed-level factors
3. Converts numeric columns properly
4. Encodes 5-mer nucleotides if missing
5. Predicts probabilities using predict(..., type = "prob")
}
\examples{
# ---- Working example that uses package-bundled data (inst/extdata) ----
# Load fitted RF model (.rds) and example features (.csv) from the installed package
rf_path  <- system.file("extdata", "rf_fit.rds", package = "m6APrediction")
csv_path <- system.file("extdata", "m6A_input_example.csv", package = "m6APrediction")
ml_fit   <- readRDS(rf_path)
feature_df <- utils::read.csv(csv_path, stringsAsFactors = FALSE)

# Run batch prediction; should add prob/label columns without errors
preds <- prediction_multiple(ml_fit, feature_df, positive_threshold = 0.5)
head(preds)

}
\seealso{
[dna_encoding()], [prediction_single()], [randomForest::randomForest()]
}
